# ğŸ” LIENS ACCÃˆS PRODUCTION - GIRASOLE DIAGPV v2.5.5

**Date de dÃ©ploiement** : 2025-12-01  
**Version** : v2.5.5 (Optimisations performances)  
**URL Production** : https://girasole-diagpv.pages.dev  
**GitHub Repository** : https://github.com/pappalardoadrien-design/Girasole25

---

## ğŸŒ **URL PRINCIPALE**

**Webapp GIRASOLE** : https://girasole-diagpv.pages.dev

âš ï¸ **IMPORTANT** : Cette URL redirige automatiquement vers la page de connexion. **Utilisez les liens personnalisÃ©s ci-dessous** pour accÃ¨s direct.

---

## ğŸ‘¨â€ğŸ’¼ **1. ACCÃˆS ADMINISTRATEUR (Adrien PAPPALARDO)**

### **Lien d'accÃ¨s direct** :
```
https://girasole-diagpv.pages.dev/s/u8ejmUtdA2UPx8n06Px1v8Mzu8ziOs5x
```

### **PrivilÃ¨ges ADMIN** :
- âœ… AccÃ¨s **TOUTES les centrales** (52 centrales)
- âœ… AccÃ¨s **TOUTES les missions** (52 missions)
- âœ… Gestion sous-traitants
- âœ… Gestion techniciens
- âœ… Attribution missions
- âœ… Dashboard complet
- âœ… Planification
- âœ… Statistiques globales

### **Onglets disponibles** :
- ğŸ  **Dashboard** : Vue d'ensemble + statistiques
- ğŸ“Š **Centrales** : Liste complÃ¨te 52 centrales avec attribution
- ğŸ“… **Planning** : Gestion missions, techniciens, sous-traitants
- ğŸ“± **Audits** : AccÃ¨s tous les audits terrain

---

## ğŸ¢ **2. ACCÃˆS SOUS-TRAITANTS (7 entreprises)**

### **ğŸ”¹ ARTEMIS**

**Lien d'accÃ¨s direct** :
```
https://girasole-diagpv.pages.dev/s/W-v8c-SVL7-XzF-xBvwH9BtfPyGoii6x
```

**Filtrage automatique** :
- âœ… Voit **15 centrales** attribuÃ©es Ã  ARTEMIS
- âœ… Voit **15 missions** attribuÃ©es Ã  ARTEMIS
- âŒ Ne voit **PAS** les centrales/missions d'autres sous-traitants

**FonctionnalitÃ©s** :
- ğŸ“Š Dashboard (statistiques ARTEMIS uniquement)
- ğŸ—ºï¸ Centrales attribuÃ©es (15)
- ğŸ“… Missions ARTEMIS (15)
- ğŸ“± Audits terrain (ses missions uniquement)

---

### **ğŸ”¹ CADENET**

**Lien d'accÃ¨s direct** :
```
https://girasole-diagpv.pages.dev/s/FMupE3hHXF_rgVz_jovYZB7vtkcQ3opF
```

**Filtrage automatique** :
- âœ… Voit **6 centrales** attribuÃ©es Ã  CADENET
- âœ… Voit **6 missions** attribuÃ©es Ã  CADENET

**FonctionnalitÃ©s** :
- ğŸ“Š Dashboard (statistiques CADENET uniquement)
- ğŸ—ºï¸ Centrales attribuÃ©es (6)
- ğŸ“… Missions CADENET (6)
- ğŸ“± Audits terrain (ses missions uniquement)

---

### **ğŸ”¹ COURTIADE DISTRIB**

**Lien d'accÃ¨s direct** :
```
https://girasole-diagpv.pages.dev/s/G379vToAdqZdpqif43M7O8fBYVjYkPOu
```

**Filtrage automatique** :
- âœ… Voit **1 centrale** attribuÃ©e Ã  COURTIADE DISTRIB
- âœ… Voit **1 mission** attribuÃ©e Ã  COURTIADE DISTRIB

**FonctionnalitÃ©s** :
- ğŸ“Š Dashboard (statistiques COURTIADE uniquement)
- ğŸ—ºï¸ Centrales attribuÃ©es (1)
- ğŸ“… Missions COURTIADE (1)
- ğŸ“± Audits terrain (ses missions uniquement)

---

### **ğŸ”¹ DIAGPV - Adrien & Fabien**

**Lien d'accÃ¨s direct** :
```
https://girasole-diagpv.pages.dev/s/wtYrujaywSTfOgalNhzQ3Pe3FHNqiVOv
```

**Filtrage automatique** :
- âœ… Voit **15 centrales** attribuÃ©es Ã  DIAGPV
- âœ… Voit **15 missions** attribuÃ©es Ã  DIAGPV

**FonctionnalitÃ©s** :
- ğŸ“Š Dashboard (statistiques DIAGPV uniquement)
- ğŸ—ºï¸ Centrales attribuÃ©es (15)
- ğŸ“… Missions DIAGPV (15)
- ğŸ“± Audits terrain (ses missions uniquement)

---

### **ğŸ”¹ DRONE AVEYRON SERVICE**

**Lien d'accÃ¨s direct** :
```
https://girasole-diagpv.pages.dev/s/3W-dQ-9TOBzb92Nk_NoSSVc9dbGNkitj
```

**Filtrage automatique** :
- âœ… Voit **2 centrales** attribuÃ©es Ã  DRONE AVEYRON
- âœ… Voit **2 missions** attribuÃ©es Ã  DRONE AVEYRON

**FonctionnalitÃ©s** :
- ğŸ“Š Dashboard (statistiques DRONE AVEYRON uniquement)
- ğŸ—ºï¸ Centrales attribuÃ©es (2)
- ğŸ“… Missions DRONE AVEYRON (2)
- ğŸ“± Audits terrain (ses missions uniquement)

---

### **ğŸ”¹ EDOUARD - Martial**

**Lien d'accÃ¨s direct** :
```
https://girasole-diagpv.pages.dev/s/WXBVyrYlC_SSym0omGSOwU5-4S3-VPWD
```

**Filtrage automatique** :
- âœ… Voit **7 centrales** attribuÃ©es Ã  EDOUARD
- âœ… Voit **7 missions** attribuÃ©es Ã  EDOUARD

**FonctionnalitÃ©s** :
- ğŸ“Š Dashboard (statistiques EDOUARD uniquement)
- ğŸ—ºï¸ Centrales attribuÃ©es (7)
- ğŸ“… Missions EDOUARD (7)
- ğŸ“± Audits terrain (ses missions uniquement)

---

### **ğŸ”¹ En attente attribution**

**Lien d'accÃ¨s direct** :
```
https://girasole-diagpv.pages.dev/s/BE9zxULmY8HbXalHU4KgKght1MpzPwvk
```

**Filtrage automatique** :
- âœ… Voit **6 centrales** non attribuÃ©es
- âœ… Voit **6 missions** non attribuÃ©es

**FonctionnalitÃ©s** :
- ğŸ“Š Dashboard (statistiques missions non attribuÃ©es)
- ğŸ—ºï¸ Centrales non attribuÃ©es (6)
- ğŸ“… Missions non attribuÃ©es (6)
- ğŸ“± Audits terrain (ses missions uniquement)

---

## ğŸ“Š **RÃ‰CAPITULATIF RÃ‰PARTITION**

| **Sous-traitant** | **Centrales** | **Missions** | **Statut** |
|---|---|---|---|
| **ADMIN (Adrien)** | **52** (100%) | **52** (100%) | âœ… Actif |
| ARTEMIS | 15 | 15 | âœ… Actif |
| DIAGPV - Adrien & Fabien | 15 | 15 | âœ… Actif |
| EDOUARD - Martial | 7 | 7 | âœ… Actif |
| CADENET | 6 | 6 | âœ… Actif |
| En attente attribution | 6 | 6 | âœ… Actif |
| DRONE AVEYRON SERVICE | 2 | 2 | âœ… Actif |
| COURTIADE DISTRIB | 1 | 1 | âœ… Actif |
| **TOTAL** | **52** | **52** | - |

---

## ğŸ”’ **SÃ‰CURITÃ‰**

### **Tokens d'accÃ¨s** :
- âœ… **8 tokens actifs** (1 ADMIN + 7 sous-traitants)
- âœ… **32 caractÃ¨res** par token (sÃ©curitÃ© cryptographique)
- âœ… **Session HTTP-only cookies** (protection XSS)
- âœ… **Filtrage automatique** par sous_traitant_id

### **Isolation donnÃ©es** :
- âœ… Chaque sous-traitant voit **SEULEMENT** ses centrales/missions
- âœ… Filtrage backend (API `/api/centrales` et `/api/ordres-mission`)
- âœ… Aucun accÃ¨s inter-sous-traitants
- âœ… ADMIN voit tout

---

## âš¡ **PERFORMANCES v2.5.5**

### **Optimisations appliquÃ©es** :

1. **Onglet Centrales** :
   - âŒ AVANT : 52 requÃªtes sÃ©quentielles â†’ 10 secondes
   - âœ… APRÃˆS : 3 requÃªtes parallÃ¨les â†’ **<1 seconde** (-90%)

2. **Onglet Missions** :
   - âœ… DÃ©jÃ  optimal : 1 requÃªte API â†’ **<300ms**

3. **Dashboard** :
   - âœ… DÃ©jÃ  optimal : 3 requÃªtes parallÃ¨les â†’ **<350ms**

### **Temps chargement mesurÃ©s** :

| Onglet | Temps | Volume donnÃ©es |
|--------|-------|----------------|
| Centrales | <1s | 52 centrales + 52 missions |
| Missions | <300ms | 52 missions |
| Dashboard | <350ms | Stats globales |
| Audits | <500ms | Checklist items |

---

## ğŸ› ï¸ **SUPPORT TECHNIQUE**

### **ProblÃ¨mes courants** :

**1. Lien ne fonctionne pas** :
- âœ… VÃ©rifier que l'URL est **complÃ¨te** (ne pas couper le token)
- âœ… Ouvrir dans **navigation privÃ©e** pour Ã©viter cache
- âœ… VÃ©rifier connexion internet

**2. Centrales vides** :
- âœ… VÃ©rifier que vous utilisez le **bon lien** (pas l'URL gÃ©nÃ©rique)
- âœ… VÃ©rifier que des centrales sont attribuÃ©es Ã  votre sous-traitant

**3. Chargement lent** :
- âœ… Version v2.5.5 optimisÃ©e : chargement <1s
- âœ… RafraÃ®chir la page (F5)
- âœ… Vider cache navigateur (Ctrl+Shift+Delete)

---

## ğŸ“¦ **DÃ‰PLOIEMENT v2.5.5**

### **URLs de dÃ©ploiement** :
- **Production principale** : https://girasole-diagpv.pages.dev
- **Preview v2.5.5** : https://1cf9c7aa.girasole-diagpv.pages.dev

### **GitHub** :
- **Repository** : https://github.com/pappalardoadrien-design/Girasole25
- **Branch** : main
- **Tags** : v2.5.2, v2.5.3, v2.5.5

### **Commits clÃ©s** :
- `4c80e2d` - Audit performances tous onglets
- `3ed12c4` - Hotfix missions.forEach
- `066bf47` - Optimisation temps chargement centrales 10s â†’ <1s

---

## ğŸ“‹ **DONNÃ‰ES PROD**

### **Base de donnÃ©es Cloudflare D1** :
- âœ… **52 centrales** (13 avec audit_toiture)
- âœ… **52 missions** (rÃ©parties sur 7 sous-traitants)
- âœ… **2,080 checklist items** gÃ©nÃ©raux (52 missions Ã— 40 items)
- âœ… **28 checklist items toiture** (2 missions Ã— 14 items)
- âœ… **9 photos** mission items
- âœ… **22 commentaires** checklist
- âœ… **8 tokens** actifs (1 ADMIN + 7 sous-traitants)
- âœ… **0% localStorage** (100% Cloudflare D1 distant)

---

## ğŸ“ **NOTES IMPORTANTES**

### **Pour distribuer les liens** :

1. **Copier le lien complet** (avec le token 32 caractÃ¨res)
2. **Envoyer par email/SMS sÃ©curisÃ©** Ã  chaque sous-traitant
3. **VÃ©rifier que le destinataire** peut accÃ©der Ã  ses donnÃ©es
4. **Recommander marque-page** pour accÃ¨s rapide

### **Pour ajouter un nouveau sous-traitant** :

1. CrÃ©er sous-traitant dans `/planning` â†’ Onglet "Sous-traitants"
2. Un token sera automatiquement gÃ©nÃ©rÃ©
3. RÃ©cupÃ©rer le token en DB :
   ```sql
   SELECT token FROM access_tokens WHERE nom = 'NOM_SOUS_TRAITANT'
   ```
4. CrÃ©er lien : `https://girasole-diagpv.pages.dev/s/{TOKEN}`

---

## âœ… **CHECKLIST VALIDATION PROD**

- [x] Build production v2.5.5 rÃ©ussi
- [x] DÃ©ploiement Cloudflare Pages OK
- [x] Push GitHub main + tags OK
- [x] 8 tokens actifs rÃ©cupÃ©rÃ©s
- [x] Filtrage sous-traitants testÃ© (ADMIN 52, ARTEMIS 15)
- [x] Performances optimisÃ©es (<1s centrales, <300ms missions)
- [x] 0% localStorage confirmÃ©
- [x] 2,189 records DB prÃ©servÃ©s
- [x] Documentation complÃ¨te crÃ©Ã©e

---

## ğŸ¯ **ACTIONS POST-DÃ‰PLOIEMENT**

### **Pour Adrien (ADMIN)** :

1. âœ… **Tester lien ADMIN** : https://girasole-diagpv.pages.dev/s/u8ejmUtdA2UPx8n06Px1v8Mzu8ziOs5x
2. âœ… **VÃ©rifier 52 centrales** chargent en <2s
3. âœ… **Distribuer 7 liens** aux sous-traitants
4. âœ… **Demander confirmation** rÃ©ception + test

### **Pour sous-traitants** :

1. âœ… **Cliquer sur lien reÃ§u**
2. âœ… **VÃ©rifier centrales/missions** attribuÃ©es
3. âœ… **Tester audit terrain** (crÃ©ation checklist)
4. âœ… **Signaler problÃ¨mes** Ã  Adrien

---

**GÃ©nÃ©ration** : 2025-12-01  
**Version** : v2.5.5 (finale)  
**Statut** : âœ… **PROD OPÃ‰RATIONNELLE**
